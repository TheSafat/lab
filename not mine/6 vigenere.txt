#include<bits/stdc++.h>
using namespace std;

int main()
{
    string msg,key;
    char ch;
    int i,n,m,j=0;

    cout<<"Enter a message(small letter): ";
    getline(cin,msg);

    cout<<"Enter the key: ";
    cin>>key;

    msg.erase(std::remove(msg.begin(), msg.end(), ' '), msg.end());
    n=msg.length();
    m=key.length();
    int arr[n];

    for(i=0; i<n&&j<m; i++)
    {
        arr[i]=key[j]-'a';
        j++;
        if(j>=m)j=0;
    }

    for(i=0; i<n; i++)
    {
        ch=(((msg[i]-'a')+arr[i])%26)+'A';
        msg[i]=ch;
    }
    cout << "Encrypted Message: " << msg << endl;

    for(i=0; i<n; i++)
    {
        ch=(((msg[i]-'A')-arr[i]+26)%26)+'a';
        msg[i]=ch;
    }
    cout << "Decrypted Message: " << msg << endl;
}

